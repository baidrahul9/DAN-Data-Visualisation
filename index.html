<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="http://dimplejs.org/dist/dimple.v2.0.0.min.js"></script>
    <style>
    circle.dimple-series-1{
      fill:red;
    }
    </style>
    <script type="text/javascript">
      function draw(data) {
      
      /*
        D3.js setup code
      */
          "use strict";
        var margin = 75,
              width = 1400 - margin,
              height = 600 - margin;
  d3.select('body').append('h2').text('Players catching up to Ronaldo and Messi');
        
        var svg = d3.select("body")
                    .append("svg")
                    .attr("width", 1200)
                    .attr("height", 1500)
                    .append('g')
                    .attr('class','chart');
      /*
        Dimple.js Chart construction code
      */
        var myBarChart = new dimple.chart(svg, data);
         
        var myBary = myBarChart.addMeasureAxis("y", "assists");
        myBary.tickFormat = '%';
        myBary.overrideMin = 0.5;
        myBary.overrideMax = 1;

        var myBarx = myBarChart.addTimeAxis("x", "year");
        myBarx.dateParseFormat = "%Y";
        myBarx.tickFormat = "%Y";
        myBarx.title = 'Year';

        myBarChart.setBounds(75, 30, 480, 330)
        myBarChart.addSeries('player', dimple.plot.line);
        myBarChart.addLegend(570, 30, 200, 100, "Right")
        myBarChart.draw();
              
        var myBarAssistChart = new dimple.chart(svg, data);
        myBarAssistChart.setBounds(75, 400, 480, 330)
        var myBarAssistX = myBarAssistChart.addMeasureAxis("x", "assists");
        myBarAssistX.title = "Assists distribution across the years"
        var myBarAssisty = myBarAssistChart.addCategoryAxis("y", "year");
        myBarAssisty.addOrderRule("Date");
        myBarAssistChart.addSeries("player", dimple.plot.bar);
        myBarAssistChart.addLegend(600, 400, 200, 100, "Right")
        myBarAssistChart.draw();

        var myChart = new dimple.chart(svg, data);
        var x = myChart.addTimeAxis("x", "year"); 
        myChart.addMeasureAxis("y", "goals_per_game");
        x.dateParseFormat = "%Y";
        x.tickFormat = "%Y";
        x.title = 'Year';
        myChart.setBounds(75, 800, 700, 500)
        myChart.addSeries('player', dimple.plot.line);
        myChart.addSeries(["goals", "appearance","assists","player"], dimple.plot.scatter);
        //myChart.assignColor("Christiano Ronaldo", "red", "black", 0.8);
        var myLegend = myChart.addLegend(650, 780, 200, 100, "Right");
        myChart.draw();
          
   

            d3.selectAll('path')
    .style('opacity', 0.75)
    .on('mouseover', function(e) {
      d3.select(this)
        .style('stroke-width', '8px')
        .style('opacity', 1)
        .attr('z-index', '1');
  }).on('mouseleave', function(e) {
      d3.select(this)
        .style('stroke-width', '2px')
        .style('opacity', 0.75)
        .attr('z-index', '0');
  });
         
        };
      </script>
  </head>
<body>
  <script type="text/javascript">
  /*
    Use D3 (not dimple.js) to load the CSV file
    and pass the contents of it to the draw function
    */
  d3.csv("football_data.csv", draw);
  </script>
</body>
</html>
